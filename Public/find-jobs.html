<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Find Jobs</title>
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
    crossorigin="anonymous"
  />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  />
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
    crossorigin="anonymous"
  ></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.min.js"></script>
  <script>
      var module = angular.module("myModule", []);
      var controller = module.controller("myController",
        function ($scope, $http) 
        {
          $scope.jsonCityAry = [];
          $scope.jsonCategoryAry = [];

          $scope.FetchDistinctCity = function () 
          {
            let url = "/fetch-distinct-city-request";
            $http.get(url).then(done, err);
            function done(response) 
            {
              $scope.jsonCityAry = response.data;
            }
            function err(response) 
            {
              alert(response.data);
            }
          };

          $scope.FetchDistinctCategory = function () {
            let url = "/fetch-distinct-category-request";
            $http.get(url).then(done, err);
            function done(response) {
              $scope.jsonCategoryAry = response.data;
            }
            function err(response) {
              alert(response.data);
            }
          };

          $scope.doSearch = function (selectCity, selectCategory) {
            let url =
              "/fetch-one-record-request?city=" +
              $scope.selectCity.city +
              "&Category=" +
              $scope.selectCategory.Category;
            $http.get(url).then(success, errors);
            function success(response) {
              $scope.jsonRecordsAry = response.data;
            }
            function errors(response) {
              alert(response.data);
            }
          };
          $scope.doshowfull = function (email) {
            let url = "/angular-fetch-full-detail-request";
          };
        }
      );
    </script>

    <style>
      html,
      body{
        width: 100%;
        height: 100%;
        overflow-x: hidden;

      }
       
      .biggest-outer
      {
        background-image: url(Images/find-jobs-bg2.png);
        background-size: cover;
        background-position: fixed;
        background-repeat: no-repeat;
        background-color: #684028;
        /* margin-bottom: 30px; */
        overflow-x: hidden;
      }
      ::-webkit-scrollbar {
        display: none;
      }
      .navbar-index
      {
        width: 65%;
        background-color: white;
        height: 20%;
      }
      .job-bnao
      {
        background: #ff5349;
        border-radius: 5%;
        border: none;
        color: white;
        font-family: cursive;
      }
      .heading
      {
        height: 30%;
        display: flex;
        flex-wrap: wrap;
        padding-top: 100px;
      }
      .jobs-heading
      {
        color: white;
        font-size: 38px;
        font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
      }
      .heading1
      {
        height: 30%;
        display: flex;
        flex-wrap: wrap;
        padding-top: 10px;
      }
      .jobs-paragraph
      {
        margin-top: 10px;
        font-size: 16px;
        font-family: cursive;
        font-weight: 700;
      }
    </style>
  </head>
  <body
    ng-app="myModule"
    ng-controller="myController"
    ng-init="FetchDistinctCategory(); FetchDistinctCity()"
  >
  <div class="biggest-outer">
  <nav
  class="navbar navbar-expand-lg navbar-index"
  style="margin: auto; margin-top: 25px; justify-content: center;"
>
  <a href="#" class="navbar-brand px-0"> </a>
  <div class="container-fluid" style="justify-content: center;">
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div
      class="collapse navbar-collapse"
      id="navbarSupportedContent "
      style="line-height: 2.5"
    >
      <div class="navbar-nav py-lg-0 ms-start">
        <img src="Images/job-requirement.png" height="50px" alt="">
    </div>
      <ul class="navbar-nav " style="margin-left: auto; margin-right: auto;">
        <li style="align-items: center; margin-left: 5px; margin-right: 5px;">
          <button
            type="button"
            class="btn text-light"
            style="border: none"
          >
            <a href="/" style="text-decoration: none; color: black; font-family: cursive;"
              >Home</a
            >
          </button>
        </li>
        <li style="margin-left: 5px; margin-right: 5px;">
          <button
            type="button"
            class="btn text-light"
            style="border: none"
          >
            <a href="/Provider-dashboard" style="text-decoration: none; color: black; font-family: cursive;">
              Dashboard</a
            >
          </button>
        </li>
        
        <li style="margin-left: 15px; margin-right: 20px">
          <a href="https://www.instagram.com/" style="text-decoration: none; color: black"
            ><i class="fa-brands fa-instagram"></i
          ></a>
        </li>
        <li style="margin-right: 15px">
          <a href="https://www.facebook.com/" style="text-decoration: none; color: black"
            ><i class="fa-brands fa-facebook"></i
          ></a>
        </li>
        <li style="margin-right: 20px">
          <a href="https://twitter.com/?lang=en" style="text-decoration: none; color: black"
            ><i class="fa-brands fa-twitter"></i
          ></a>
        </li>
        <li class="nav-but" style="margin-left: 5px; margin-right: 5px;">
          <button 
            type="button"
            class="btn  job-bnao"
          >
            Profile
          </button>
        </li>
      </ul>
    </div>
  </div>
</nav>
    <div class="row" style="justify-content: center; height: 100%;">
    <div class="heading col-md-4" style="margin-bottom: 200px;">
        <span class="jobs-heading" >
            The <span style="color: #ff5349; margin: none;">Easiest</span> Way To Find <span style="color: #ff5349;"> Jobs </span>Nearby. <br>
            <p class="jobs-paragraph">Search your city, category and find people nearby searching for service providers. <span style="color:#ff5349 ;" >Scroll down after clicking the search button </span></p>
        </span>
        <br>
        <div class="d-flex col-md-12" style="display: flex; flex-wrap: wrap;background-color: white; height: 60px; align-items: center; justify-content: center;">
            <div class="col-md-4 d-flex" style="margin: 2px;">
              <select
                name=""
                id=""
                ng-options="obj.city for obj in jsonCityAry"
                ng-model="selectCity"
                class="form-control rounded-0"
                style="background-color: #f8f8ff; border: none; height: 47px;"
        
              >
                <option value="">City</option>
              </select>
            </div>
            <div class="col-md-4" style="margin: 3px;">
              <select
                name=""
                id=""
                ng-options="obj.Category for obj in jsonCategoryAry"
                ng-model="selectCategory"
                class="form-control rounded-0"
                style="background-color: #f8f8ff; border: none; height: 47px;"
              >
                <option value="">Category</option>
              </select>
            </div>
            <div class="col-md-3" style="margin: 2px;">
              <input type="button" value="Search" ng-click="doSearch()" class="form-control rounded-0" style="background-color: #ff5349; height: 47px; color: white;"/>
            </div>
            <br>
            
          </div>
    </div>
    <div class="col-md-3 heading1">
    </div>
</div>
</div>
    <div class="row" style="justify-content: center; background-color: #ececec;">
      <div class="col-md-3" ng-repeat="obj in jsonRecordsAry" style="margin: 10px;">
        <div class="card" style="border: none; background-color: white; color: white; padding:5px ;">
          <center>
          <div class="card-body" style="color: black; background-color: white;">
            <p class="card-text" style="font-family: cursive;"></p>
            <p class="card-text" style="font-family: cursive;">
              <span style="color: #ff5349;">Category :</span> {{obj.Category}} <br />
              <span style="color: #ff5349;">Address :</span> {{obj.address}} <br />
              <span style="color: #ff5349;">City : </span>{{obj.city}} <br />
              <span style="color: #ff5349;">Till Date : </span>{{obj.TillDate}} <br />
              <span style="color: #ff5349;">Task Details : </span>{{obj.Task}} <br />
            </p>
            <input
              type="button"
              class="btn btn-primary"
              value="View Full Details"
              style="background-color: #ff5349; color: white; border-radius: 0px; border: none"
            />
          </div>
        </center>
        </div>
      </div>
    </div>
    
  </body>
</html>
